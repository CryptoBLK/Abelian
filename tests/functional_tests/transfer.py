#!/usr/bin/env python3
""" Test transfer RPC calls

Test for the following RPC calls:
    - get_balance
    - transfer
"""

from test_framework.daemon import Daemon
from test_framework.wallet import Wallet

mainnet_address_1 = '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'

mainnet_address_2 = '46GphMTnRHoQ2ede8bwzCQactKp3t321bJgE3MYbFn2LM64U4mvvKZLAPNsLnN2Q8295gaWQWoUNzhBSjvSnZq2AeRLGc6poER7QCnS1CKaZYgivSTXxUqNsMhtxo5tg7VDWVSL4YU9ZCUkDyPTTXLchAfFt18CDdJAEeZfAbbJryjQaGpQaLj5fDMLPs1iowhuMcaGrgZ7mMrRee8EFEDX8YedWiPJjV3JtDN12UwXgkHTeTQLgcBdLAWiihRYfHpV21eRxjJ9jmohYnivArgY7gSjCAmL72vATVdNcAKgdypqy9vSBjheXyqVJVegctYrzhfxuGKLHHYjmZfCD17VYG6ereDWgLMGJsQ77iYhAZBSNmJPJapTJ4N9dGGw7r64o9s575MtFT8wa9eHi5E3Lz4p7FjKjgZ3E36kAUBhfE7mVYYn4o7FiTuxtRF6iar51jtcU75KkEEV9eLH8Vgo91SGFQrtbLBDFQSrpPdqPKjNcTC2iKnxjGw9oPYa1cGz7h4hp8ytD9EKLFfXj6AR7Bnv1KLvwf8bponHxYNEF1hWhFPCs3dWp4zijJvvAqDNrSwxLqaJBCTmNC2N74RufrkhZz81VB6Ztq9pAMfnXn88nZgAXEFSJvNrssvZihWJRyAccfZPyEefFDWjf2BXXi1EKo7yHECxU22wLsR5T9mjWgTpBW2UAzvujhz1Jfax9PAZTr9HfhgMxnVrHksHG1h7ST4FqmApg3mhx1iFUHux7yPkUVDxjRtsgPhTd7C22e75WkUQDGPxjR7ezV9cxaMXT339tCJ9jKLa8QsUMzJjLU5YdyM6M1CDa5qNFsT6iDXrCyxt3oAoQUAydZftZXbPwWBJWh9tKsSz7P3oTaqmAPFDqP2827ipdneKgeN4Z1YTfAAQaPzEGSRjL9GWUaaE3Q4XWGEkUEkG4F5N3bJFrr112A8pETA1aDDdJekwWiTEM2rDXTcUNRQpfyQVcVp9iTu7xK32mJbN9hRty1cQgpJ1NLTJFCx6kXe1eC75ooTy21WfJCHzKJ8WA4MmzBom4xuDuY3LxxnR4T6ScMhc4zgTvX5WuZfC5NFzBz3iHksZFtGCT8E6HppPGnX62A5KELE5Wti5CW7jH85P2kQzdv8ysMNxA9RwRRXrtAkM8ArFfomShfsPLT5CQmqG6LSWdArgFg1snHHMoL2wFp3tLKST62Y1Wxn84cHAk6rTgbFT1WJM5t8v2LMYXhMmDw13ZkJcyP61jbtavht5Y3wzFBg5pY9m5aSkLaVoSaDWp8j41dVUMa3EKaxhgG6SewbMNzYYbnpW9BfuP7foDKNXZuZiZTMU2wtm4noj2ydw25usmyQBD31swcNbuNB2Pt8i1MkaLxUrdgBhoybPxEm1FJFxoVUEzw5BjEH1p8dpWkD5SaMqdMf83cTpMQ9gvvkYzo5JD71Dj8FYrmP3z6TLRfaN7pgSUqmpscZkFN8S3is1ix51KxZzeXkcZcTeFZmrbZXy1d3TjYKWREEKn81JnSK41iPRtKUjJAr49dH3fLo6b4ZXpHzBREuW5UcTLCpMsmxKQAxGqa6snJUQ9DusaPM35LYrxM66BWfRqUS2BDLW5Qba3apX76WL5gdXHpQZ1bCJxE8jB71mY2dnLPdn98V47fwYLL2Kq5AWWmbSSnaGLMNh6TyHEmde7eZTuDnfxVgNc8R7h22qHPPQKvm3BrCazEs37xkKQdun93TriPWZRLf5WApqfjAVXiTUKTNNs2LoMfrhk8qcEf8URb1BWcjLBogPeRj6TXqwxsTTtuKGeegreKBPzymbNho6XTseMvcmiTTG4eFn7KG2VsPX9u8wufAkBjei8tp9bbaNWRk21mUWPBmUxs4HEWoDYtMk53kp5dEnHdbvD9W9qEhgQnxvTnMCAdNc855vUNmjBhRu9v4QhWPkULHkQeUx8MQy4tuAgWXcfBShMSufUCbytdANuUyDRXLccXNLMhj1bSHUWAYa96VHfw3SPa5AxZ9SxZWcJZobYnTMPTtF9VLepFG4fnuD3szjqDDcrNZ3EE6T2razzxTd1LAVQ2Lhmfhvon3GDgnSL3b9AWZ3fVShHwkPLzeEZWopn6sJSESibwRSzFsAcMrJb6ZrYRUVx8MA8NNs5VGwiWi8tRYXSFAGNZHFQiTP4BFApYbniFrR6mWJ1xkdbHUwtpxuzdqJ4M6VabmDB2NF2eLdLdiic7MMCnkJu9Yax2ZjBVeVY8yJT2wCAqfdLTJ9jMJpfbwAFgnUtmP75HsDL6bsXYBb5Z52TE7hTPATCedFAYBzBWZMHRrYnuXtfwairSh13fJ4ooN3sfLYFndasBCo1xes66WKsHmEptpGDcmd1YjQHh3ubmMPnEyaZkfD54eK5JZZdF8bFGMMVbCF1F4TSLa7oafxAFZoML1XGaNvMre2heW48kApM6p7HdDSWnSGmaf3VtztsRmJpPDwqDPm'

mainnet_address_3 = '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'

wallet_seeds = ['humid examine camp major orphans stick testing acumen rays etiquette goat jabbed arbitrary pheasants dice hedgehog emotion psychic boyfriend sulking slug fowls vehicle vowels examine',
'siren certain menu lamb love huts dullness sagabicycle ungainly anvil foes aching oneself skirting picked hydrogen mirror else abnormal otherwise magically pigment popular anvil', 'deity jetting guest vague tiers fossil rapid vacation system afraid jaws cool duckling comb elope guys jagged abducts eden inundate aunt evicted abort amidst evicted']

class AbelianTransferTest():
    def run_test(self):
        self.reset()
        self.create()
        self.mine()
        self.transfer()
        self.check_get_bulk_payments()

    def reset(self):
        print('Reset Abelian Blockchain')
        daemon = Daemon()
        daemon.pop_blocks(1000)
        daemon.flush_txpool()

    def create(self):
        print('Creating wallets')
        self.wallet = [None] * len(wallet_seeds)
        for i in range(0, len(wallet_seeds)):
            self.wallet[i] = Wallet(idx = i)
            try: self.wallet[i].close_wallet()
            except: pass
            res = self.wallet[i].restore_deterministic_wallet(seed = wallet_seeds[i])

if __name__ == '__main__':
    AbelianTransferTest().run_test()

